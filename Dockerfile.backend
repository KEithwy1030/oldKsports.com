FROM node:24-slim
LABEL "language"="nodejs"

WORKDIR /src
COPY . .

# Change to server directory
WORKDIR /src/server

# Install production dependencies only
RUN npm ci --production

EXPOSE 3000

# Start the application in production mode
CMD ["npm", "run", "production"]
